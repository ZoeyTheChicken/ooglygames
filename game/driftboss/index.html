<!DOCTYPE html> <html> <head> <title>Drift Boss</title> <link rel="icon" type="image/x-icon" href="/media/graphics/misc/favicon.ico"> <meta http-equiv="Content-type" content="text/html; charset=utf-8"> <meta name="robots" content="noindex, nofollow"> <meta name="viewport" content="width=device-width,height=device-height, initial-scale=1, maximum-scale=1, user-scalable=0, minimal-ui" /> <meta name="apple-mobile-web-app-capable" content="yes"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-MENBM6GSNY"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MENBM6GSNY")</script> <link rel="stylesheet" type="text/css" href="https://738501629-461082748261058427.preview.editmysite.com/uploads/b/139890129-817510652323129407/files/game.css"> <script type="text/javascript" src="https://738501629-461082748261058427.preview.editmysite.com/uploads/b/139890129-817510652323129407/files/game.js"></script> </head> <body onload="setTimeout(function(){window.scrollTo(0,1)},1);"> <div id="ajaxbar"> <div id="game"><canvas id="canvas"></canvas></div> <div id="webgl"><canvas id="webglcanvas"></canvas></div> <div id="orientate"><img src="https://738501629-461082748261058427.preview.editmysite.com/uploads/b/139890129-817510652323129407/files/media/graphics/orientate/landscape.jpg"></div> <div id="play" class="play" onclick=""><img src="https://738501629-461082748261058427.preview.editmysite.com/uploads/b/139890129-817510652323129407/files/media/graphics/splash/mobile/cover-start.jpg"></div> </div> <script src="https://cdn.jsdelivr.net/gh/st39/sdk@main/api.js"></script> </body> </html>
  <script>
(function() {
  const PING_INTERVAL = 10000; // 10 seconds
  const SESSION_KEY = 'obg_session';
  const SESSION_EXP_KEY = 'obg_session_exp';
  const PING_URL = 'https://ooglyapi.ct.ws/api/v1/ping';

  // Generate a simple random session ID
  function generateSessionID() {
    return 'sess_' + Math.random().toString(36).substr(2, 16);
  }

  // Get existing session or create new one
  function getSession() {
    const now = Date.now();
    let session = localStorage.getItem(SESSION_KEY);
    let exp = parseInt(localStorage.getItem(SESSION_EXP_KEY) || '0', 10);

    if (!session || now > exp) {
      session = generateSessionID();
      exp = now + 24 * 60 * 60 * 1000; // 24 hours
      localStorage.setItem(SESSION_KEY, session);
      localStorage.setItem(SESSION_EXP_KEY, exp);
    }

    return session;
  }

  // Send ping to API
  async function pingAPI() {
    const sessionID = getSession();
    const payload = {
      session_id: sessionID,
      timestamp: new Date().toISOString(),
      device: navigator.userAgent
    };

    try {
      await fetch(PING_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
        mode: 'cors'
      });
      // console.log('Ping sent', payload);
    } catch(e) {
      console.error('Error sending ping:', e);
    }
  }

  // Initial ping
  pingAPI();

  // Repeat every 10s
  setInterval(pingAPI, PING_INTERVAL);
})();
</script>
