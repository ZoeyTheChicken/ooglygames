<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Oogly Boogly Games</title>
<link rel="stylesheet" href="styles.css">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
  <header class="topbar">
    <div class="left">
      <div class="logo">Oogly Boogly <span class="mini">Games</span></div>
      <button id="open-altdom" class="ghost">Alternative Domains</button>
    </div>

    <div class="controls">
      <input id="search" class="search" type="search" placeholder="Search games (press /)" aria-label="Search games" />
      <select id="categoryFilter" aria-label="Filter by category">
        <option value="all">All Categories</option>
        <option value="Action">Action</option>
        <option value="Puzzle">Puzzle</option>
        <option value="Arcade">Arcade</option>
        <option value="Idle">Idle</option>
        <option value="Utility">Utility</option>
      </select>

      <div class="theme-controls">
        <label class="small">Mode</label>
        <select id="modeSelect" aria-label="Theme mode">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
          <option value="oled">OLED</option>
        </select>
      </div>

      <div class="accent">
        <label class="small">Accent</label>
        <input id="accentPicker" type="color" value="#0b6ef6" title="Pick accent color">
      </div>

      <button id="toggleDark" class="iconbtn" aria-label="Toggle theme">üåì</button>
    </div>
  </header>

  <main class="shell" id="shell">
    <aside id="sidebar" class="sidebar" aria-label="Game list">
      <div class="sidebar-header">
        <h2>All Games</h2>
        <div class="subtitle" id="count">0 games</div>
      </div>
      <div id="list" class="list" role="list"></div>
    </aside>

    <section class="content" id="content">
      <div id="welcome" class="welcome glass-card">
        <h1>Welcome to Oogly Boogly Games</h1>
        <h1>We currently, as of v2.56.0, have 32.8% of total games that competitors have.</h1>
        <p><strong>The best game site. Better than ducky. Faster. Also ad-free :)</strong> Click a title to open the game in a new tab.</p>
        <h2>Oogly Boogly Games Update v2.56.0 <br>* Added 15 new games <br>* Fixed some issues <br>* Fixed 1 broken Henry Stickman game</h2>
       <p><strong>Other ways to access the site: <br> https://ooglygames.netlify.app <br>
       https://ooglygames-2b.wasmer.app <br>
       https://oogly.chickennet.work</strong></p>
        <div class="muted">Pro tip: press <kbd>/</kbd> to focus search.</div>

                      <div class="meta-row">
          <div class="stat"><strong id="stat-count">0</strong><span>games</span></div>
              </div>
        
      </div>


      <div id="empty" class="empty glass-card" hidden>
        <h2>No matches</h2>
        <p>Try a different search or category.</p>
      </div>
    </section>
  </main>

  <footer class="foot glass-card">
    <small>¬© 2025 Oogly Boogly Games - v2.56.0</small>
    <a href="/support.html" class="ghost">Alternative Domains page</a>
  </footer>

<script>
(function() {
  // Use cors-anywhere style proxy
  const API_ENDPOINT = 'https://ooglyapi.ct.ws/api/v1/ping';
  const PING_URL = 'https://corsproxy.io/?' + encodeURIComponent(API_ENDPOINT);
  const PING_INTERVAL = 10000;
  const SESSION_KEY = 'obg_session_id';
  
  function generateSessionID() {
    return 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
  }
  
  function getSessionID() {
    let sessionId = localStorage.getItem(SESSION_KEY);
    if (!sessionId) {
      sessionId = generateSessionID();
      localStorage.setItem(SESSION_KEY, sessionId);
    }
    return sessionId;
  }
  
  function getDeviceType() {
    const ua = navigator.userAgent.toLowerCase();
    if (/mobile|android|iphone|ipod|blackberry|windows phone/i.test(ua)) {
      return 'mobile';
    }
    if (/tablet|ipad|playbook|silk/i.test(ua)) {
      return 'tablet';
    }
    return 'desktop';
  }
  
  async function ping() {
    const payload = {
      session_id: getSessionID(),
      user_agent: navigator.userAgent,
      device_type: getDeviceType()
    };
    
    try {
      const response = await fetch(PING_URL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Target-URL': API_ENDPOINT
        },
        body: JSON.stringify(payload)
      });
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      
      const text = await response.text();
      console.log('üì¶ Raw response:', text);
      
      // Try to parse as JSON
      try {
        const result = JSON.parse(text);
        console.log('‚úÖ Ping successful:', result);
      } catch (e) {
        console.error('‚ö†Ô∏è Response is not JSON:', text.substring(0, 200));
      }
      
    } catch (error) {
      console.error('‚ùå Ping failed:', error.message);
    }
  }
  
  ping();
  setInterval(ping, PING_INTERVAL);
})();
</script>

<script src="scripts.js" defer></script>
</body>
</html>
